<!-- Card container that binds all togather -->
<mat-card
  fxFlex="50"
  fxFlex.md="80"
  fxFlex.lt-md="90"
  fxFlexOffset="25"
  fxFlexOffset.md="10"
  fxFlexOffset.lt-md="5"
>
  <!-- Title of a Card -->
  <mat-card-title fxFlexAlign="center" title="Contact">Contact</mat-card-title>

  <!-- Actual content starts from here -->
  <mat-card-content>
    <form
      [formGroup]="contactForm"
      (ngSubmit)="onSubmit(contactForm.value)"
      fxLayout="column"
      fxLayoutAlign="space-between stretch"
      fxLayoutGap="20px"
    >
      <mat-form-field>
        <input
          matInput
          formControlName="fromControlName"
          placeholder="Your name"
          title="Your name"
        />
        <mat-hint>Write your name.</mat-hint>
        <mat-error
          *ngIf="
            !contactForm.get('fromControlName')!.valid &&
            contactForm.get('fromControlName')!.touched
          "
          >Your full name.
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <input
          matInput
          formControlName="formControlEmail"
          placeholder="Your email"
          title="Your email"
        />
        <mat-hint>Provide valid email address.</mat-hint>
        <mat-error
          *ngIf="
            !contactForm.get('formControlEmail')!.valid &&
            contactForm.get('formControlEmail')!.touched
          "
          >This is an <strong>invalid</strong> email address.
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline" fxFlex="40">
        <input
          matInput
          ng2TelInput
          [ng2TelInputOptions]="{
            initialCountry: 'us',
            preferredCountries: [
              'au',
              'ca',
              'de',
              'ie',
              'nl',
              'no',
              'pl',
              'ch',
              'uk',
              'us'
            ]
          }"
          formControlName="formControlPhone"
          (hasError)="hasError($event)"
          placeholder="Your phone number"
          title="Your phone number"
        />
        <mat-icon matSuffix>phone</mat-icon>
        <mat-hint>Your phone number with country prefix.</mat-hint>
        <mat-error
          *ngIf="
            !contactForm.get('formControlPhone')!.valid &&
            contactForm.get('formControlPhone')!.touched
          "
          >This is an <strong>invalid</strong> phone number.
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <input
          matInput
          [matDatepicker]="picker"
          formControlName="formControlDeadline"
          placeholder="Project deadline"
          title="Project deadline"
        />
        <mat-hint
          >Specify when at latest you would like to have the project
          done.</mat-hint
        >
        <mat-error
          *ngIf="
            !contactForm.get('formControlDeadline')!.valid &&
            contactForm.get('formControlDeadline')!.touched
          "
          >This is an <strong>invalid</strong> date.
        </mat-error>
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker touchUi="true" #picker></mat-datepicker>
      </mat-form-field>
      <mat-form-field>
        <textarea
          matInput
          matTextareaAutosize
          matAutosizeMinRows="5"
          matAutosizeMaxRows="20"
          formControlName="formControlDescription"
          placeholder="Project description"
          title="Project description"
        ></textarea>
        <mat-hint>Description for your project.</mat-hint>
        <mat-error
          *ngIf="
            !contactForm.get('formControlDescription')!.valid &&
            contactForm.get('formControlDescription')!.touched
          "
          >Description of the project must be between 30 and 5000 characters.
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <ngx-mat-file-input
          multiple
          [accept]="[
            '.doc',
            '.docx',
            '.jpg',
            '.jpeg',
            '.pdf',
            '.png',
            '.xls',
            '.xlsx'
          ]"
          formControlName="fileUploader"
          placeholder="Optionally additional files"
          title="Optionally additional files"
        >
        </ngx-mat-file-input>
        <mat-icon matSuffix>folder</mat-icon>
        <mat-hint
          >Accepted formats: DOC, DOCX, JPG, JPEG, PDF, PNG, XLS and XLSX,
          maximum files upload size: 20 MB.
        </mat-hint>
        <mat-error
          *ngIf="contactForm.get('fileUploader').hasError('maxContentSize')"
        >
          This size is too large, maximum upload is
          {{
            contactForm.get('fileUploader')?.getError('maxContentSize').maxSize
              | byteFormat
          }}
          (uploaded size:
          {{
            contactForm.get('fileUploader')?.getError('maxContentSize')
              .actualSize | byteFormat
          }}).
        </mat-error>
      </mat-form-field>
      <h4 fxFlexAlign="center" title="Choose preferred form of contact">
        Choose preferred form of contact
      </h4>
      <mat-radio-group formControlName="formControlFirst" fxFlexAlign="center">
        <mat-radio-button title="Email" value="Email">Email</mat-radio-button>
        <mat-radio-button title="Phone" value="Phone">Phone</mat-radio-button>
      </mat-radio-group>
      <h4
        fxFlexAlign="center"
        title="Select in which services are you interested in"
      >
        Select in which services are you interested in
      </h4>
      <mat-selection-list formControlName="formControlService">
        <mat-list-option
          *ngFor="let servicesItem of servicesItems"
          title="{{ servicesItem }}"
          value="{{ servicesItem }}"
          >{{ servicesItem }}</mat-list-option
        >
      </mat-selection-list>
      <mat-error
        *ngIf="
          !contactForm.get('formControlService')!.valid &&
          contactForm.get('formControlService')!.touched
        "
        >You didn't select any service.
      </mat-error>
      <re-captcha
        formControlName="recaptchaCheck"
        fxFlexAlign="center"
        title="Security check"
      ></re-captcha>
      <mat-slide-toggle
        (change)="handleTerms()"
        formControlName="acceptedTerms"
        fxFlexAlign="center"
        title="Accept terms"
        >Accept terms
      </mat-slide-toggle>
      <button
        mat-raised-button
        color="primary"
        [disabled]="!contactForm.valid || acceptedTerms === false"
        title="Send message"
      >
        Send message
      </button>
    </form>
  </mat-card-content>
</mat-card>
